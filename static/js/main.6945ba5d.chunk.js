(this["webpackJsonpezcomm-frontend"]=this["webpackJsonpezcomm-frontend"]||[]).push([[0],{100:function(e,t,s){},101:function(e,t,s){},102:function(e,t,s){},103:function(e,t,s){},104:function(e,t,s){},105:function(e,t,s){},106:function(e,t,s){},107:function(e,t,s){},108:function(e,t,s){},109:function(e,t,s){"use strict";s.r(t);var n=s(2),a=s.n(n),c=s(19),r=s.n(c),i=(s(77),s(30)),o=s(13),l=s(16),d=s(64),j=s(4),u="CHANGE_USER_STAFF",h=" CHANGE_USER_ID",b="CHANGE_USER_PROFILE",m="CHANGE_USER_TOKEN",p="CHANGE_USER_USERNAME",f="CHANGE_USER_PASSWORD",O={userId:null,username:null,password:null,token:null,profile:null,isStaff:!1},x=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:O,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case h:return Object(j.a)(Object(j.a)({},e),{},{userId:t.payload});case p:return Object(j.a)(Object(j.a)({},e),{},{username:t.payload});case f:return Object(j.a)(Object(j.a)({},e),{},{password:t.payload});case m:return Object(j.a)(Object(j.a)({},e),{},{token:t.payload});case b:return Object(j.a)(Object(j.a)({},e),{},{profile:t.payload});case u:return Object(j.a)(Object(j.a)({},e),{},{isStaff:t.payload});default:return e}},g=Object(d.a)({userReducer:x}),v=Object(d.b)(g),N=s(7),y=s(8),S=s(10),w=s(9),k="http://127.0.0.1:8000/",C={login:k+"api/v1/token/",getUserProfile:k+"api/v1/userprofile/users/get_profile/",postNotice:k+"api/v1/notice/notice_post/",postAssignement:k+"api/v1/notice/assignment_post/",getNoticeList:k+"api/v1/notice/notice_post/",getAssignmentList:k+"api/v1/notice/assignment_post/",profilePic:"http://127.0.0.1:8000",getAssignmentSubmissions:k+"api/v1/clsses/Assignment/?assigned_by=",submitAssignement:k+"api/v1/clsses/Assignment/",postSchedule:k+"api/v1/clsses/Schedule/",getSchedule:k+"api/v1/clsses/Schedule/?semester=",getNoticeComments:k+"api/v1/notice/comments/?post=",postNoticeComments:k+"api/v1/notice/comments/"},_=function(){return localStorage.getItem("Token")},T=function(){localStorage.clear()},A=(s(82),s(1)),D=function(e){Object(S.a)(s,e);var t=Object(w.a)(s);function s(e){var n;return Object(N.a)(this,s),(n=t.call(this,e)).signIn=function(e){var t=new Headers;t.append("Content-Type","application/json");var s=JSON.stringify({username:n.state.username,password:n.state.password});fetch(C.login,{method:"POST",headers:t,body:s,redirect:"follow"}).then((function(e){if(console.log(e.status),!e.ok)throw new Error("HTTP status "+e.status);return e.json()})).then((function(e){var t;console.log("ok ",e.access),t=e.access,localStorage.setItem("Token",t),n.props.changeUsername(n.state.username),n.props.changeUserPassword(n.state.password),n.props.changeUserToken(e.access),console.log(n.props.history)})).then((function(){return n.props.history.push("/home/dashboard/")})).catch((function(e){return console.log("login error",e)})),e.preventDefault()},n.state={username:"",password:""},n}return Object(y.a)(s,[{key:"render",value:function(){var e=this;return Object(A.jsx)("div",{className:"container",children:Object(A.jsx)("div",{className:"login-page",children:Object(A.jsxs)("div",{className:"form",children:[Object(A.jsxs)("form",{className:"login-form",onSubmit:function(t){return e.signIn(t)},children:[Object(A.jsx)("input",{type:"text",placeholder:"Username",value:this.state.username,onChange:function(t){return e.setState({username:t.target.value})}}),Object(A.jsx)("input",{type:"password",placeholder:"Password",value:this.state.password,onChange:function(t){return e.setState({password:t.target.value})}}),Object(A.jsx)("button",{type:"submit",children:"login"})]}),Object(A.jsxs)("p",{className:"message",children:["Not registered? ",Object(A.jsx)("a",{href:"#",children:"Create an account"})]})]})})})}}]),s}(n.Component),E=Object(l.b)(null,(function(e){return{changeUsername:function(t){e({type:p,payload:t})},changeUserPassword:function(t){e({type:f,payload:t})},changeUserToken:function(t){e({type:m,payload:t})}}}))(D),P=(s(84),function(e){Object(S.a)(s,e);var t=Object(w.a)(s);function s(){return Object(N.a)(this,s),t.apply(this,arguments)}return Object(y.a)(s,[{key:"render",value:function(){return Object(A.jsx)("div",{className:"nfp-container",children:Object(A.jsxs)("div",{className:"message",children:[Object(A.jsx)("div",{className:"errorcode",children:"404 "}),Object(A.jsx)("div",{className:"errormessage",children:"Page not found !"})]})})}}]),s}(n.Component)),F=P,L=s(32),I=s(40),M=s(36),H=(s(85),function(e){Object(S.a)(s,e);var t=Object(w.a)(s);function s(){var e;Object(N.a)(this,s);for(var n=arguments.length,a=new Array(n),c=0;c<n;c++)a[c]=arguments[c];return(e=t.call.apply(t,[this].concat(a))).fetchAndUpdateData=function(){var t=new Headers;t.append("Authorization","Bearer "+_()),fetch(C.getUserProfile,{method:"GET",headers:t,redirect:"follow"}).then((function(e){if(console.log(e.status),!e.ok)throw new Error("HTTP status "+e.status);return e.json()})).then((function(t){console.log("profile fetch ok ",t),e.props.changeUserProfile(t),e.props.changeUserId(t.name.id),e.props.changeUserStaffStatus(t.name.is_staff)})).catch((function(e){return console.log("error",e)}))},e.checkTokenStored=function(){null!==_()?e.fetchAndUpdateData():e.logOut()},e.logOut=function(){T(),e.props.history.push("/login/")},e}return Object(y.a)(s,[{key:"componentDidMount",value:function(){this.checkTokenStored()}},{key:"render",value:function(){var e=this;return Object(A.jsx)("div",{className:"sidebar-container",children:Object(A.jsxs)("nav",{className:"nav-menu",children:[Object(A.jsxs)("ul",{className:"nav-menu-items",children:[Object(A.jsx)("li",{className:"nav-profile",children:Object(A.jsxs)(i.c,{to:"#",children:[null===this.props.profile?Object(A.jsx)(M.a,{size:"130px"}):null!==this.props.profile.Profile_pic?Object(A.jsx)("img",{className:"rounded-circle profile",alt:"50x50",width:"140px",height:"140px",src:C.profilePic+this.props.profile.Profile_pic,"data-holder-rendered":"true"}):Object(A.jsx)(M.a,{size:"140px"}),null!==this.props.profile?this.props.isStaff?Object(A.jsxs)(A.Fragment,{children:[Object(A.jsx)("span",{className:"bottomProfileText",children:this.props.profile.name.first_name+" "+this.props.profile.name.last_name}),Object(A.jsx)("span",{children:this.props.profile.name.email}),Object(A.jsx)("span",{children:this.props.profile.designation})]}):Object(A.jsxs)(A.Fragment,{children:[Object(A.jsx)("span",{children:this.props.profile.name.first_name+" "+this.props.profile.name.last_name}),Object(A.jsx)("span",{children:this.props.profile.name.email}),Object(A.jsx)("span",{className:"bottomProfileText",children:this.props.profile.Roll_number}),Object(A.jsx)("span",{className:"bottomProfileText",children:this.props.profile.branch+" "+this.props.profile.semester})]}):Object(A.jsxs)(A.Fragment,{children:[Object(A.jsx)("span",{children:"USERNAME"}),Object(A.jsx)("span",{children:"OTHERINFO"})]})]})}),Object(A.jsx)("li",{className:"nav-text",children:Object(A.jsxs)(i.c,{to:"/home/dashboard",activeClassName:"nav-text-active",children:[Object(A.jsx)(M.c,{className:"sidbar-icon",size:"30px"}),Object(A.jsx)("span",{className:"sidbar-text",children:"DashBoard"})]})}),Object(A.jsx)("li",{className:"nav-text",children:Object(A.jsxs)(i.c,{to:"/home/notice",activeClassName:"nav-text-active",children:[Object(A.jsx)(M.d,{className:"sidbar-icon",size:"30px"}),Object(A.jsx)("span",{className:"sidbar-text",children:" Notices"})]})}),Object(A.jsx)("li",{className:"nav-text",children:Object(A.jsxs)(i.c,{to:"/home/assignment",activeClassName:"nav-text-active",children:[Object(A.jsx)(L.a,{className:"sidbar-icon",size:"30px"}),Object(A.jsx)("span",{className:"sidbar-text",children:"Assignments"})]})}),Object(A.jsx)("li",{className:"nav-text",children:Object(A.jsxs)(i.c,{to:"/home/timetable",activeClassName:"nav-text-active",children:[Object(A.jsx)(I.c,{className:"sidbar-icon",size:"25px"}),Object(A.jsx)("span",{className:"sidbar-text",children:"Time Table"})]})})]}),Object(A.jsx)("button",{type:"button",className:"btn logout",onClick:function(){return e.logOut()},children:"LOGOUT"})]})})}}]),s}(n.Component)),V=Object(l.b)((function(e){return{profile:e.userReducer.profile,isStaff:e.userReducer.isStaff}}),(function(e){return{changeUserId:function(t){e({type:h,payload:t})},changeUserProfile:function(t){e({type:b,payload:t})},changeUserStaffStatus:function(t){e({type:u,payload:t})}}}))(H),R=s(50),U=(s(87),function(e){Object(S.a)(s,e);var t=Object(w.a)(s);function s(e){var n;return Object(N.a)(this,s),(n=t.call(this,e)).classSchedule=function(){var e=[];e.push({subject:"Mobile Computing",teacher:"Monika Sahu",time:"9:30 AM",canJoin:!0});for(var t=0;t<15;t++)e.push({subject:"Mobile Computing",teacher:"Monika Sahu",time:"9:30 AM",canJoin:!1});return e},n.fetchAssignmentList=function(){var e=new Headers;e.append("Authorization","Bearer "+_()),fetch(C.getAssignmentList,{method:"GET",headers:e,redirect:"follow"}).then((function(e){if(console.log(e.status),!e.ok)throw new Error("HTTP status "+e.status);return e.json()})).then((function(e){console.log("assignment data",e),n.setState({assignmentList:e})})).catch((function(e){return console.log("error",e)}))},n.fetchNoticeData=function(){var e=new Headers;e.append("Authorization","Bearer "+_()),fetch(C.getNoticeList,{method:"GET",headers:e,redirect:"follow"}).then((function(e){if(console.log(e.status),!e.ok)throw new Error("HTTP status "+e.status);return e.json()})).then((function(e){console.log("notice data ",e),n.setState({noticeList:e})})).catch((function(e){return console.log("notice list fetch error",e)}))},n.state={noticeList:null,assignmentList:null},n}return Object(y.a)(s,[{key:"componentDidMount",value:function(){this.fetchNoticeData(),this.fetchAssignmentList()}},{key:"render",value:function(){var e=this;return Object(A.jsxs)("div",{className:"dashcontainer",children:[Object(A.jsx)("div",{className:"container",children:Object(A.jsxs)("div",{className:"row rowtable",children:[Object(A.jsx)("div",{className:"column1",children:Object(A.jsxs)("table",{children:[Object(A.jsxs)("thead",{className:"",children:[Object(A.jsx)("tr",{className:"tableHead  ",children:" Class Schedule"}),Object(A.jsxs)("tr",{className:"divider",children:[Object(A.jsx)("th",{children:"Subject"}),Object(A.jsx)("th",{children:"Teacher"}),Object(A.jsx)("th",{children:"Time"}),Object(A.jsx)("th",{children:"Join"})]})]}),Object(A.jsx)("tbody",{children:this.classSchedule().map((function(e,t){return Object(A.jsxs)("tr",{children:[Object(A.jsx)("td",{children:Object(A.jsx)("a",{href:"#",children:e.subject})}),Object(A.jsx)("td",{children:e.teacher}),Object(A.jsx)("td",{children:e.time}),Object(A.jsx)("td",{children:Object(A.jsx)(R.a,{className:e.canJoin?"status status-paid disable":"status status-unpaid",children:"Join"})})]},t)}))})]})}),Object(A.jsx)("div",{className:"column1",children:Object(A.jsxs)("table",{children:[Object(A.jsxs)("thead",{children:[Object(A.jsx)("tr",{className:"tableHead",children:" Assignment"}),Object(A.jsxs)("tr",{className:"divider",children:[Object(A.jsx)("th",{children:"Title"}),Object(A.jsx)("th",{className:"tableValue",children:Object(A.jsx)("span",{children:"Subject"})}),Object(A.jsx)("th",{className:"tableValue",children:Object(A.jsx)("span",{children:"Teacher"})}),Object(A.jsx)("th",{className:"tableValue",children:Object(A.jsx)("span",{children:"Issue Date"})})]})]}),Object(A.jsx)("tbody",{children:null!==this.state.assignmentList?this.state.assignmentList.map((function(t,s){return Object(A.jsxs)("tr",{children:[Object(A.jsx)("td",{children:Object(A.jsx)("a",{href:"#",onClick:function(){return e.props.history.push("/home/assignment/")},children:t.title})}),Object(A.jsx)("td",{className:"tableValue",children:Object(A.jsx)("span",{children:t.subject[0]})}),Object(A.jsx)("td",{className:"tableValue",children:Object(A.jsx)("span",{children:t.name})}),Object(A.jsx)("td",{className:"tableValue",children:Object(A.jsx)("span",{children:t.date})})]},s)})):Object(A.jsx)(A.Fragment,{})})]})})]})}),Object(A.jsx)("div",{className:"container",children:Object(A.jsx)("div",{className:"row",children:Object(A.jsxs)("div",{className:"card",children:[Object(A.jsx)("div",{className:"card-header noticeHead ",children:Object(A.jsx)("h4",{children:"Notice"})}),Object(A.jsx)("div",{className:"table-responsive",children:Object(A.jsxs)("table",{className:"table table-hover table-nowrap",children:[Object(A.jsx)("thead",{className:"thead-light",children:Object(A.jsxs)("tr",{className:"divider",children:[Object(A.jsx)("th",{scope:"col",className:"subject",children:"Subject"}),Object(A.jsx)("th",{scope:"col",className:"tableValue",children:Object(A.jsx)("span",{children:"Author"})}),Object(A.jsx)("th",{scope:"col",className:"tableValue",children:Object(A.jsx)("span",{children:"Designation"})}),Object(A.jsx)("th",{scope:"col",className:"tableValue",children:Object(A.jsx)("span",{children:"Department"})}),Object(A.jsx)("th",{scope:"col",className:"tableValue",children:Object(A.jsx)("span",{children:"Date"})})]})}),Object(A.jsx)("tbody",{children:null!==this.state.noticeList?this.state.noticeList.map((function(t,s){return Object(A.jsxs)("tr",{children:[Object(A.jsxs)("td",{"data-label":"Job Title",className:"subject",children:[Object(A.jsx)("a",{className:"text-heading font-semibold",href:"#",onClick:function(){return e.props.history.push("/home/notice/")},children:t.subject}),Object(A.jsx)("br",{}),null!==t.image_content?Object(A.jsx)("div",{children:Object(A.jsx)("a",{className:"text-heading font-semibold attachments",href:t.image_content,target:"_blank",children:"Attachments"})}):Object(A.jsx)(A.Fragment,{})]}),Object(A.jsx)("td",{"data-label":"Email",className:"tableValue",children:Object(A.jsx)("span",{children:t.name})}),Object(A.jsx)("td",{"data-label":"Email",className:"tableValue",children:Object(A.jsx)("span",{children:t.desig})}),Object(A.jsx)("td",{"data-label":"Email",className:"tableValue",children:Object(A.jsx)("span",{children:t.department})}),Object(A.jsx)("td",{"data-label":"Email",className:"tableValue",children:Object(A.jsx)("span",{children:t.date})})]},s)})):Object(A.jsx)(A.Fragment,{})})]})})]})})})]})}}]),s}(n.Component)),z=s(20),B=s(21),G=s(69),J=s.n(G),q=s(48),W=(s(98),function(e){Object(S.a)(s,e);var t=Object(w.a)(s);function s(e){var n;return Object(N.a)(this,s),(n=t.call(this,e)).state={numberOfPages:5,currentPage:1},n}return Object(y.a)(s,[{key:"onError",value:function(e){console.log(e,"error in file-viewer")}},{key:"render",value:function(){return Object(A.jsxs)("div",{className:"docxview",children:[Object(A.jsx)("div",{children:Object(A.jsx)(J.a,{fileType:"docx",filePath:this.props.uri,onError:this.onError})}),Object(A.jsx)("a",{className:"downloadbtn",href:this.props.uri,children:Object(A.jsx)(M.b,{size:"25px",color:"#0d6efd"})})]})}}]),s}(n.Component)),K=function(e){Object(S.a)(s,e);var t=Object(w.a)(s);function s(e){var n;return Object(N.a)(this,s),(n=t.call(this,e)).onPdfLoadSucces=function(e){n.setState({currentPage:1,numberOfPages:e.numPages})},n.state={numberOfPages:0,currentPage:1},n}return Object(y.a)(s,[{key:"componentDidMount",value:function(){q.c.GlobalWorkerOptions.workerSrc="//cdnjs.cloudflare.com/ajax/libs/pdf.js/".concat(q.c.version,"/pdf.worker.js")}},{key:"render",value:function(){var e=this;return Object(A.jsxs)("div",{className:"pdfview",children:[Object(A.jsxs)("div",{children:[Object(A.jsx)(q.a,{file:this.props.uri,onLoadSuccess:this.onPdfLoadSucces,onLoadError:function(e){return console.log(e)},children:Object(A.jsx)(q.b,{height:645,pageNumber:this.state.currentPage})}),Object(A.jsx)("div",{className:"navpaging",children:Object(A.jsx)("nav",{"aria-label":"...",children:Object(A.jsx)("ul",{className:"pagination",children:Array.apply(0,Array(this.state.numberOfPages)).map((function(t,s){return Object(A.jsx)("li",{className:e.state.currentPage===s+1?"page-item active":"page-item","aria-current":"page",children:Object(A.jsx)("a",{className:"page-link",href:"#",onClick:function(){return e.setState({currentPage:s+1})},children:s+1})},s)}))})})})]}),Object(A.jsx)("a",{className:"downloadbtn",href:this.props.uri,children:Object(A.jsx)(M.b,{size:"25px",color:"#0d6efd"})})]})}}]),s}(n.Component),Y=function(e){Object(S.a)(s,e);var t=Object(w.a)(s);function s(){return Object(N.a)(this,s),t.apply(this,arguments)}return Object(y.a)(s,[{key:"render",value:function(){return"pdf"===this.props.fileType?Object(A.jsx)(K,{uri:this.props.uri}):Object(A.jsx)(W,{uri:this.props.uri})}}]),s}(n.Component),Q=Y,X=(s(99),function(e){Object(S.a)(s,e);var t=Object(w.a)(s);function s(e){var n;return Object(N.a)(this,s),(n=t.call(this,e)).submitForm=function(){var e=new Headers;e.append("Authorization","Bearer "+_());var t=new FormData;t.append("department","CSE"),t.append("desig",n.props.profile.designation),t.append("subject",n.state.subject),t.append("content",n.state.content),t.append("image_content",n.state.selectAttachment),t.append("template_docx",n.state.selectDocument),t.append("author",n.props.userId),t.append("name",n.props.profile.name.first_name+" "+n.props.profile.name.last_name),fetch(C.postNotice,{method:"POST",headers:e,body:t,redirect:"follow"}).then((function(e){if(console.log(e.status),!e.ok)throw new Error("HTTP status "+e.status);return e.text()})).then((function(e){console.log(e,n.props),n.props.fetchNoticeData()})).catch((function(e){return console.log("error",e)}))},n.todaysDate=function(){var e=new Date;return e.setDate(e.getDate()),e.toISOString().substr(0,10)},n.state={subject:"",content:"",selectAttachment:[],selectDocument:[]},n}return Object(y.a)(s,[{key:"render",value:function(){var e=this;return Object(A.jsxs)("div",{className:"noticeformcontainer",children:[Object(A.jsxs)("form",{children:[Object(A.jsxs)("div",{className:"form-group",children:[Object(A.jsx)("label",{htmlFor:"title",children:"Subject:"}),Object(A.jsx)("input",{id:"title",className:"form-control",type:"text",placeholder:"Enter Notice Subject",required:!0,value:this.state.subject,onChange:function(t){return e.setState({subject:t.target.value})}})]}),Object(A.jsxs)("div",{className:"form-group",children:[Object(A.jsx)("label",{htmlFor:"content",children:"Content:"}),Object(A.jsx)("textarea",{className:"form-control",id:"content",rows:"3",required:!0,value:this.state.content,onChange:function(t){return e.setState({content:t.target.value})}})]}),Object(A.jsxs)("div",{className:"form-group",children:[Object(A.jsx)("label",{htmlFor:"attachment",children:"Select Image Attachment:"}),Object(A.jsx)("input",{className:"form-control",type:"file",id:"attachment",accept:"image/*",onChange:function(t){return e.setState({selectAttachment:t.target.files[0]})}})]}),Object(A.jsxs)("div",{className:"form-group",children:[Object(A.jsx)("label",{htmlFor:"attachment",children:"Select Notice Attachment:"}),Object(A.jsx)("input",{className:"form-control",type:"file",id:"attachment",accept:".docx",onChange:function(t){return e.setState({selectDocument:t.target.files[0]})}})]}),Object(A.jsxs)("div",{className:"form-group ",children:[Object(A.jsx)("label",{htmlFor:"date",children:"Date:"}),Object(A.jsx)("input",{id:"date",className:"form-control",type:"date",name:"pickup_time",required:!0,disabled:!0,defaultValue:this.todaysDate()})]}),Object(A.jsxs)("div",{className:"form-group",children:[Object(A.jsx)("label",{htmlFor:"assignedby",children:"Author:"}),Object(A.jsx)("input",{id:"assignedby",className:"form-control",type:"text",disabled:!0,value:this.props.profile.name.first_name+" "+this.props.profile.name.last_name})]}),Object(A.jsxs)("div",{className:"form-group",children:[Object(A.jsx)("label",{htmlFor:"department",children:"Department By:"}),Object(A.jsx)("input",{id:"department",className:"form-control",type:"text",placeholder:"Enter Department",value:"CSE",disabled:!0,required:!0})]}),Object(A.jsxs)("div",{className:"form-group",children:[Object(A.jsx)("label",{htmlFor:"designation",children:"Designation:"}),Object(A.jsx)("input",{id:"designation",className:"form-control",type:"text",placeholder:"Enter Designation",value:this.props.profile.designation,disabled:!0,required:!0})]})]}),Object(A.jsx)("button",{value:"Submit",className:"submit",onClick:function(){return e.submitForm()},children:"Submit"})]})}}]),s}(n.Component)),Z=Object(l.b)((function(e){return{profile:e.userReducer.profile,isStaff:e.userReducer.isStaff,userId:e.userReducer.userId}}),null)(X),$=(s(100),function(e){Object(S.a)(s,e);var t=Object(w.a)(s);function s(e){var n;return Object(N.a)(this,s),(n=t.call(this,e)).fetchComments=function(){if(console.log("id ",n.props.noticeId),null!==n.props.noticeId){var e=new Headers;e.append("Authorization","Bearer "+_());var t={method:"GET",headers:e,redirect:"follow"};fetch(C.getNoticeComments+n.props.noticeId,t).then((function(e){if(console.log(e.status),!e.ok)throw new Error("HTTP status "+e.status);return e.json()})).then((function(e){console.log(e),n.setState({commentsData:e})})).catch((function(e){return console.log("error in fetch comments",e)}))}},n.postComment=function(){var e=new Headers;e.append("Authorization","Bearer "+_()),e.append("Content-Type","application/json");var t=JSON.stringify({name:n.props.profile.name.first_name+" "+n.props.profile.name.last_name,body:n.state.mycomment,active:!1,post:n.props.noticeId});fetch(C.postNoticeComments,{method:"POST",headers:e,body:t,redirect:"follow"}).then((function(e){if(console.log(e.status),!e.ok)throw new Error("HTTP status "+e.status);return e.json()})).then((function(e){console.log(e,"comment post success "),n.fetchComments()})).catch((function(e){return console.log("error in posting comment ",e)}))},n.getCurrenteDate=function(){var e=new Date;return e.getDate()+"/"+(e.getMonth()+1)+"/"+e.getFullYear()+" @ "+e.getHours()+":"+e.getMinutes()+":"+e.getSeconds()},n.state={commentsData:[],mycomment:""},n}return Object(y.a)(s,[{key:"componentDidMount",value:function(){this.fetchComments()}},{key:"render",value:function(){var e=this;return Object(A.jsx)("div",{children:Object(A.jsxs)("ul",{className:"list-group",children:[Object(A.jsx)("div",{className:"allcommentslist",children:this.state.commentsData.map((function(e,t){return Object(A.jsx)("li",{className:"list-group-item",children:Object(A.jsxs)("div",{className:"mb-3",children:[Object(A.jsxs)("div",{className:"commentinfo",children:[Object(A.jsx)("label",{htmlFor:"exampleFormControlTextarea1",className:"form-label",children:e.name}),Object(A.jsx)("small",{className:"text-muted",children:e.created_on})]}),Object(A.jsx)("div",{className:"commentbody",children:Object(A.jsx)("p",{children:e.body})})]})},t)}))}),Object(A.jsx)("li",{className:"list-group-item writesection",children:Object(A.jsxs)("div",{className:"mb-3",children:[Object(A.jsxs)("div",{className:"commentinfo",children:[Object(A.jsx)("label",{htmlFor:"exampleFormControlTextarea1",className:"form-label",children:this.props.profile.name.first_name+" "+this.props.profile.name.last_name}),Object(A.jsx)("small",{className:"text-muted",children:this.getCurrenteDate()})]}),Object(A.jsxs)("div",{className:"input-group mb-3",children:[Object(A.jsx)("textarea",{className:"form-control",id:"exampleFormControlTextarea1",value:this.state.mycomment,onChange:function(t){return e.setState({mycomment:t.target.value})}}),Object(A.jsx)("button",{className:"btn btn-outline-secondary",type:"button",id:"button-addon2",onClick:function(){return e.postComment()},children:"Send"})]})]})})]})})}}]),s}(n.Component)),ee=Object(l.b)((function(e){return{profile:e.userReducer.profile,isStaff:e.userReducer.isStaff}}),null)($),te=(s(101),function(e){Object(S.a)(s,e);var t=Object(w.a)(s);function s(e){var n;return Object(N.a)(this,s),(n=t.call(this,e)).noticedata=function(){var e=[];e.push({subject:"Admission Form",postedby:"Student Section",date:"29 Feb 2021"});for(var t=0;t<10;t++)e.push({subject:"Holiday",postedby:"Admistration",date:"29 Feb 2021"});return e},n.fetchNoticeData=function(){var e=new Headers;e.append("Authorization","Bearer "+_()),fetch(C.getNoticeList,{method:"GET",headers:e,redirect:"follow"}).then((function(e){if(console.log(e.status),!e.ok)throw new Error("HTTP status "+e.status);return e.json()})).then((function(e){console.log(e),n.setState({noticeList:e})})).catch((function(e){return console.log("notice list fetch error",e)}))},n.state={showpdfmodal:!1,shownoticeformmodal:!1,noticeList:null,pdfLink:null,noticeId:null},n}return Object(y.a)(s,[{key:"componentDidMount",value:function(){this.fetchNoticeData()}},{key:"render",value:function(){var e=this;return Object(A.jsxs)("div",{className:"noticecontainer",children:[this.props.isStaff?Object(A.jsx)(z.a,{className:"btn-sm createnotice",onClick:function(){return e.setState({shownoticeformmodal:!0})},children:"Create Notice"}):Object(A.jsx)("div",{}),Object(A.jsx)("div",{className:this.props.isStaff?"noticetableparentwithbutton":"noticetableparent",children:Object(A.jsxs)("table",{className:"table table-hover table-nowrap",children:[Object(A.jsx)("thead",{className:"thead-light",children:Object(A.jsxs)("tr",{children:[Object(A.jsx)("th",{scope:"col",className:"subject",children:"Subject"}),Object(A.jsx)("th",{scope:"col",className:"tableValue",children:Object(A.jsx)("span",{children:"Author"})}),Object(A.jsx)("th",{scope:"col",className:"tableValue",children:Object(A.jsx)("span",{children:"Designation"})}),Object(A.jsx)("th",{scope:"col",className:"tableValue",children:Object(A.jsx)("span",{children:"Department"})}),Object(A.jsx)("th",{scope:"col",className:"tableValue",children:Object(A.jsx)("span",{children:"Date"})}),Object(A.jsx)("th",{scope:"col",className:"tableValue",children:Object(A.jsx)("span",{children:"View"})})]})}),Object(A.jsx)("tbody",{children:null!==this.state.noticeList?this.state.noticeList.map((function(t,s){return Object(A.jsxs)("tr",{children:[Object(A.jsxs)("td",{"data-label":"Job Title",className:"subject",children:[Object(A.jsx)("a",{className:"text-heading font-semibold",href:"#",children:t.subject}),Object(A.jsx)("br",{}),null!==t.image_content?Object(A.jsx)("div",{children:Object(A.jsx)("a",{className:"text-heading font-semibold attachments",href:t.image_content,target:"_blank",children:"Attachments"})}):Object(A.jsx)(A.Fragment,{})]}),Object(A.jsx)("td",{"data-label":"Email",className:"tableValue",children:Object(A.jsx)("span",{children:t.name})}),Object(A.jsx)("td",{"data-label":"Email",className:"tableValue",children:Object(A.jsx)("span",{children:t.desig})}),Object(A.jsx)("td",{"data-label":"Email",className:"tableValue",children:Object(A.jsx)("span",{children:t.department})}),Object(A.jsx)("td",{"data-label":"Email",className:"tableValue",children:Object(A.jsx)("span",{children:t.date})}),Object(A.jsx)("td",{className:"tableValue",children:Object(A.jsx)("span",{children:Object(A.jsx)(z.a,{className:"status status-paid",onClick:function(){return e.setState({showpdfmodal:!0,pdfLink:t.template_docx,noticeId:t.id})},disabled:null===t.template_docx,children:"View"})})})]},s)})):Object(A.jsx)(A.Fragment,{})})]})}),Object(A.jsx)(B.a,{show:this.state.showpdfmodal,dialogClassName:"modalcssnotice",onHide:function(){return e.setState({showpdfmodal:!1})},children:Object(A.jsxs)("div",{className:"commentsandpdfmodal",children:[Object(A.jsx)("div",{className:"pdfviewmodal",children:Object(A.jsx)(Q,{uri:this.state.pdfLink,fileType:"docx"})}),Object(A.jsx)("div",{className:"commentsmodal",children:Object(A.jsx)(ee,{noticeId:this.state.noticeId})})]})}),this.props.isStaff?Object(A.jsx)(B.a,{show:this.state.shownoticeformmodal,onHide:function(){return e.setState({shownoticeformmodal:!1})},children:Object(A.jsx)(Z,{fetchNoticeData:this.fetchNoticeData})}):Object(A.jsx)("div",{})]})}}]),s}(n.Component)),se=Object(l.b)((function(e){return{profile:e.userReducer.profile,isStaff:e.userReducer.isStaff}}),null)(te),ne=(s(102),s(42)),ae=(s(103),function(e){Object(S.a)(s,e);var t=Object(w.a)(s);function s(e){var n;return Object(N.a)(this,s),(n=t.call(this,e)).submitForm=function(){var e=new Headers;e.append("Authorization","Bearer "+_());var t=new FormData;t.append("department","CSE"),t.append("desig",n.props.profile.designation),t.append("subject",n.state.subject),t.append("content",n.state.content),t.append("assigned_by",n.props.userId),t.append("title",n.state.title),t.append("image_content",n.state.selectAttachment),t.append("template_docx",n.state.selectDocument),t.append("name",n.props.profile.name.first_name+" "+n.props.profile.name.last_name),fetch(C.postAssignement,{method:"POST",headers:e,body:t,redirect:"follow"}).then((function(e){if(console.log(e.status),!e.ok)throw new Error("HTTP status "+e.status);return e.text()})).then((function(e){console.log(e),n.props.fetchAssignmentList()})).catch((function(e){return console.log("error posting assignment",e)}))},n.todaysDate=function(){var e=new Date;return e.setDate(e.getDate()),e.toISOString().substr(0,10)},n.state={subject:"",title:"",content:"",selectAttachment:[],selectDocument:[]},n}return Object(y.a)(s,[{key:"render",value:function(){var e=this;return console.log(this.state),Object(A.jsxs)("div",{className:"assignmentformcontainer",children:[Object(A.jsxs)("form",{children:[Object(A.jsxs)("div",{className:"form-group",children:[Object(A.jsx)("label",{htmlFor:"subject",children:"Subject:"}),Object(A.jsx)("input",{id:"subject",className:"form-control",type:"text",placeholder:"Enter Subject",value:this.state.subject,onChange:function(t){return e.setState({subject:t.target.value})}})]}),Object(A.jsxs)("div",{className:"form-group",children:[Object(A.jsx)("label",{htmlFor:"title",children:"Topic:"}),Object(A.jsx)("input",{id:"title",className:"form-control",type:"text",placeholder:"Enter Assignment Title",value:this.state.title,onChange:function(t){return e.setState({title:t.target.value})}})]}),Object(A.jsxs)("div",{className:"form-group",children:[Object(A.jsx)("label",{htmlFor:"content",children:"Content:"}),Object(A.jsx)("textarea",{className:"form-control",id:"content",rows:"3",value:this.state.content,onChange:function(t){return e.setState({content:t.target.value})}})]}),Object(A.jsxs)("div",{className:"form-group",children:[Object(A.jsx)("label",{htmlFor:"attachment",children:"Select Image Attachment:"}),Object(A.jsx)("input",{className:"form-control",type:"file",id:"attachment",accept:"image/*",onChange:function(t){return e.setState({selectAttachment:t.target.files[0]})}})]}),Object(A.jsxs)("div",{className:"form-group",children:[Object(A.jsx)("label",{htmlFor:"attachment",children:"Select Assignment Attachment:"}),Object(A.jsx)("input",{className:"form-control",type:"file",id:"attachment",accept:".docx",onChange:function(t){return e.setState({selectDocument:t.target.files[0]})}})]}),Object(A.jsxs)("div",{className:"form-group ",children:[Object(A.jsx)("label",{htmlFor:"issuedate",children:"Issue Date:"}),Object(A.jsx)("input",{id:"issuedate",className:"form-control",type:"date",name:"pickup_time",required:!0,disabled:!0,defaultValue:this.todaysDate()})]}),Object(A.jsxs)("div",{className:"form-group",children:[Object(A.jsx)("label",{htmlFor:"assignedby",children:"Assigned By:"}),Object(A.jsx)("input",{id:"assignedby",className:"form-control",type:"text",disabled:!0,value:this.props.profile.name.first_name+" "+this.props.profile.name.last_name})]}),Object(A.jsxs)("div",{className:"form-group",children:[Object(A.jsx)("label",{htmlFor:"department",children:"Department By:"}),Object(A.jsx)("input",{id:"department",className:"form-control",type:"text",placeholder:"Enter Department",value:"CSE",disabled:!0,required:!0})]}),Object(A.jsxs)("div",{className:"form-group",children:[Object(A.jsx)("label",{htmlFor:"designation",children:"Designation:"}),Object(A.jsx)("input",{id:"designation",className:"form-control",type:"text",placeholder:"Enter Designation",value:this.props.profile.designation,disabled:!0,required:!0})]})]}),Object(A.jsx)("button",{value:"Submit",className:"submit",onClick:function(){return e.submitForm()},children:"Submit"})]})}}]),s}(n.Component)),ce=Object(l.b)((function(e){return{profile:e.userReducer.profile,isStaff:e.userReducer.isStaff,userId:e.userReducer.userId}}),null)(ae),re=(s(104),function(e){Object(S.a)(s,e);var t=Object(w.a)(s);function s(e){var n;return Object(N.a)(this,s),(n=t.call(this,e)).fetchAssignmentList=function(){var e=new Headers;e.append("Authorization","Bearer "+_()),fetch(C.getAssignmentList,{method:"GET",headers:e,redirect:"follow"}).then((function(e){if(console.log(e.status),!e.ok)throw new Error("HTTP status "+e.status);return e.json()})).then((function(e){console.log("assignment data",e),n.setState({assignmentList:e})})).catch((function(e){return console.log("error",e)}))},n.state={showPdfModal:!1,showAssignmentformmodal:!1,assignmentList:null,pdfLink:null},n}return Object(y.a)(s,[{key:"componentDidMount",value:function(){this.fetchAssignmentList()}},{key:"render",value:function(){var e=this;return console.log("teacher page history",this.props),Object(A.jsxs)("div",{className:"teacherpage",children:[Object(A.jsxs)("div",{className:"sortcontainer",children:[Object(A.jsx)(z.a,{className:"btn-sm",onClick:function(){return e.setState({showAssignmentformmodal:!0})},children:"Create Assignment"}),Object(A.jsxs)("div",{className:"sortcontainerchild",children:[Object(A.jsx)("div",{className:"form-group",children:Object(A.jsxs)("select",{className:"form-control",id:"exampleFormControlSelect1",defaultValue:"Subject",children:[Object(A.jsx)("option",{disabled:!0,value:"Subject",children:"Subject"}),Object(A.jsx)("option",{children:"1"}),Object(A.jsx)("option",{children:"2"}),Object(A.jsx)("option",{children:"3"}),Object(A.jsx)("option",{children:"4"}),Object(A.jsx)("option",{children:"5"})]})}),Object(A.jsx)("div",{className:"form-group",children:Object(A.jsxs)("select",{className:"form-control",id:"exampleFormControlSelect1",defaultValue:"Assignment Topic",children:[Object(A.jsx)("option",{disabled:!0,value:"Assignment Topic",children:"Assignment Topic"}),Object(A.jsx)("option",{children:"1"}),Object(A.jsx)("option",{children:"2"}),Object(A.jsx)("option",{children:"3"}),Object(A.jsx)("option",{children:"4"}),Object(A.jsx)("option",{children:"5"})]})}),Object(A.jsx)(z.a,{className:"btn-sm",children:"SORT"})]})]}),Object(A.jsx)("div",{className:"teachertableparent",children:Object(A.jsxs)("table",{className:"table table-hover table-nowrap",children:[Object(A.jsx)("thead",{className:"thead-light",children:Object(A.jsxs)("tr",{children:[Object(A.jsx)("th",{scope:"col",className:"topic",children:"Topic"}),Object(A.jsx)("th",{scope:"col",children:"Subject Name"}),Object(A.jsx)("th",{scope:"col",children:"Submitted By"}),Object(A.jsx)("th",{scope:"col",children:"Issue Date"}),Object(A.jsx)("th",{scope:"col",children:"Plagiarised check"}),Object(A.jsx)("th",{scope:"col",children:"View Submissions"})]})}),Object(A.jsx)("tbody",{children:null!==this.state.assignmentList?this.state.assignmentList.map((function(t,s){return Object(A.jsxs)("tr",{children:[Object(A.jsxs)("td",{className:"topic",children:[Object(A.jsx)("a",{href:"#",className:"font-semibold",onClick:function(){return e.setState({showPdfModal:null!==t.template_docx,pdfLink:t.template_docx})},children:t.title}),Object(A.jsx)("br",{}),null!==t.image_content?Object(A.jsx)("div",{children:Object(A.jsx)("a",{className:"text-heading font-semibold attachments",href:t.image_content,target:"_blank",children:"Attachments"})}):Object(A.jsx)(A.Fragment,{})]}),Object(A.jsx)("td",{children:Object(A.jsx)("span",{children:t.subject[0]})}),Object(A.jsx)("td",{children:Object(A.jsx)("span",{children:"Student"})}),Object(A.jsx)("td",{children:Object(A.jsx)("span",{children:t.date})}),Object(A.jsx)("td",{children:Object(A.jsx)("div",{className:"plagiarismicon",children:Math.floor(10*Math.random())%2===1?Object(A.jsx)(ne.a,{color:"red",size:"25px"}):Object(A.jsx)(L.b,{color:"green",size:"25px"})})}),Object(A.jsx)("td",{children:Object(A.jsx)(z.a,{className:"status status-paid",onClick:function(){return e.props.history.push("/home/assignment/"+t.id)},children:"View"})})]},s)})):Object(A.jsx)(A.Fragment,{})})]})}),Object(A.jsx)(B.a,{show:this.state.showPdfModal,onHide:function(){return e.setState({showPdfModal:!1})},children:Object(A.jsx)(Q,{uri:this.state.pdfLink,fileType:"docx"})}),Object(A.jsx)(B.a,{show:this.state.showAssignmentformmodal,onHide:function(){return e.setState({showAssignmentformmodal:!1})},children:Object(A.jsx)(ce,{fetchAssignmentList:this.fetchAssignmentList})})]})}}]),s}(n.Component)),ie=(s(105),function(e){Object(S.a)(s,e);var t=Object(w.a)(s);function s(e){var n;return Object(N.a)(this,s),(n=t.call(this,e)).fetchAssignmentList=function(){var e=new Headers;e.append("Authorization","Bearer "+_()),fetch(C.getAssignmentList,{method:"GET",headers:e,redirect:"follow"}).then((function(e){if(console.log(e.status),!e.ok)throw new Error("HTTP status "+e.status);return e.json()})).then((function(e){console.log("assignment data",e),n.setState({assignmentList:e})})).catch((function(e){return console.log("error",e)}))},n.submitAssignment=function(){if(0!==n.state.assignmentFileToUpload.length&&null!==n.state.assignmentID){var e=new Headers;e.append("Authorization","Bearer "+_());var t=new FormData;t.append("assigned_by",n.state.assignmentID),t.append("submitted_by",n.props.profile.id),t.append("upload_file",n.state.assignmentFileToUpload),t.append("name",n.props.profile.name.first_name+" "+n.props.profile.name.last_name),fetch(C.submitAssignement,{method:"POST",headers:e,body:t,redirect:"follow"}).then((function(e){if(console.log(e.status),!e.ok)throw new Error("HTTP status "+e.status);return e.json()})).then((function(e){return console.log(e)})).catch((function(e){return console.log("error",e)}))}else console.log("please Select A file...")},n.state={showSubmitModal:!1,showPdfModal:!1,assignmentList:null,pdfLink:null,assignmentFileToUpload:[],assignmentID:null},n}return Object(y.a)(s,[{key:"componentDidMount",value:function(){this.fetchAssignmentList()}},{key:"render",value:function(){var e=this;return Object(A.jsxs)("div",{className:"tableparent",children:[Object(A.jsxs)("table",{className:"table table-hover table-nowrap",children:[Object(A.jsx)("thead",{className:"thead-light",children:Object(A.jsxs)("tr",{children:[Object(A.jsx)("th",{scope:"col",className:"topic",children:"Topic"}),Object(A.jsx)("th",{scope:"col",children:"Subject Name"}),Object(A.jsx)("th",{scope:"col",children:"Assigned By"}),Object(A.jsx)("th",{scope:"col",children:"Issue Date"}),Object(A.jsx)("th",{scope:"col",children:"Plagiarised check"}),Object(A.jsx)("th",{scope:"col",children:"Submit"})]})}),Object(A.jsx)("tbody",{children:null!==this.state.assignmentList?this.state.assignmentList.map((function(t,s){return Object(A.jsxs)("tr",{children:[Object(A.jsxs)("td",{className:"topic",children:[Object(A.jsx)("a",{href:"#",className:"font-semibold",onClick:function(){return e.setState({showPdfModal:null!==t.template_docx,pdfLink:t.template_docx})},children:t.title}),Object(A.jsx)("br",{}),null!==t.image_content?Object(A.jsx)("div",{children:Object(A.jsx)("a",{className:"text-heading font-semibold attachments",href:t.image_content,target:"_blank",children:"Attachments"})}):Object(A.jsx)(A.Fragment,{})]}),Object(A.jsx)("td",{children:Object(A.jsx)("span",{children:t.subject[0]})}),Object(A.jsx)("td",{children:Object(A.jsx)("span",{children:t.name})}),Object(A.jsx)("td",{children:Object(A.jsx)("span",{children:t.date})}),Object(A.jsx)("td",{children:Object(A.jsx)("div",{className:"plagiarismicon",children:Math.floor(10*Math.random())%2===1?Object(A.jsx)(ne.a,{color:"red",size:"25px"}):Object(A.jsx)(L.b,{color:"green",size:"25px"})})}),Object(A.jsx)("td",{children:Object(A.jsx)(z.a,{className:"status status-paid",onClick:function(){return e.setState({showSubmitModal:!0,assignmentID:t.id})},children:"Submit"})})]},s)})):Object(A.jsx)(A.Fragment,{})})]}),Object(A.jsx)(B.a,{show:this.state.showSubmitModal,onHide:function(){return e.setState({showSubmitModal:!1})},children:Object(A.jsxs)(B.a.Body,{children:[Object(A.jsxs)("div",{className:"mb-3",children:[Object(A.jsx)("label",{for:"formFile",className:"form-label",children:"Select Assignment"}),Object(A.jsx)("input",{className:"form-control",type:"file",id:"formFile",accept:".pdf",onChange:function(t){return e.setState({assignmentFileToUpload:t.target.files[0]})}})]}),Object(A.jsx)(z.a,{className:"btn-primary btn-sm",disabled:0===this.state.assignmentFileToUpload.length,onClick:function(){return e.submitAssignment()},children:"Submit"})]})}),Object(A.jsx)(B.a,{show:this.state.showPdfModal,onHide:function(){return e.setState({showPdfModal:!1})},children:Object(A.jsx)(Q,{uri:this.state.pdfLink,fileType:"docx"})})]})}}]),s}(n.Component)),oe=Object(l.b)((function(e){return{profile:e.userReducer.profile,isStaff:e.userReducer.isStaff,userId:e.userReducer.userId}}),null)(ie);var le=Object(l.b)((function(e){return{profile:e.userReducer.profile,isStaff:e.userReducer.isStaff}}),null)((function(e){var t=Object(o.f)();return Object(A.jsx)("div",{className:"assignmentcontainer",children:e.isStaff?Object(A.jsx)(re,{history:t}):Object(A.jsx)(oe,{})})})),de=(s(106),function(e){Object(S.a)(s,e);var t=Object(w.a)(s);function s(e){var n;return Object(N.a)(this,s),(n=t.call(this,e)).fetchAndUpdateData=function(){var e=new Headers;e.append("Authorization","Bearer "+_());var t={method:"GET",headers:e,redirect:"follow"};fetch(C.getAssignmentSubmissions+n.props.id,t).then((function(e){if(console.log(e.status),!e.ok)throw new Error("HTTP status "+e.status);return e.json()})).then((function(e){console.log(e),n.setState({assignmentList:e})})).catch((function(e){return console.log("error",e)}))},n.state={assignmentList:null,showPdfModal:!1,pdfLink:null},n}return Object(y.a)(s,[{key:"componentDidMount",value:function(){this.fetchAndUpdateData()}},{key:"render",value:function(){var e=this;return Object(A.jsx)("div",{className:"studentAssignmentPageContainer",children:Object(A.jsxs)("div",{className:"teacherpage",children:[Object(A.jsx)("div",{className:"sortcontainer",children:Object(A.jsx)(i.b,{to:"/home/assignment",children:Object(A.jsx)(I.a,{size:"35px"})})}),Object(A.jsx)("div",{className:"teachertableparent",children:Object(A.jsxs)("table",{className:"table table-hover table-nowrap",children:[Object(A.jsx)("thead",{className:"thead-light",children:Object(A.jsxs)("tr",{children:[Object(A.jsx)("th",{scope:"col",children:"Submitted By"}),Object(A.jsx)("th",{scope:"col",children:"Submission Date"}),Object(A.jsx)("th",{scope:"col",children:"Plagiarised check"}),Object(A.jsx)("th",{scope:"col",children:"Marks"}),Object(A.jsx)("th",{scope:"col",children:"View Assignment"})]})}),Object(A.jsx)("tbody",{children:null!==this.state.assignmentList?this.state.assignmentList.map((function(t,s){return Object(A.jsxs)("tr",{children:[Object(A.jsx)("td",{children:t.name}),Object(A.jsx)("td",{children:Object(A.jsx)("span",{children:t.submission_date})}),Object(A.jsx)("td",{children:Object(A.jsx)("div",{className:"plagiarismicon",children:Math.floor(10*Math.random())%2===1?Object(A.jsx)(ne.a,{color:"red",size:"25px"}):Object(A.jsx)(L.b,{color:"green",size:"25px"})})}),Object(A.jsx)("td",{children:t.marks}),Object(A.jsx)("td",{children:Object(A.jsx)(z.a,{className:"status status-paid",onClick:function(){return e.setState({showPdfModal:!0,pdfLink:t.upload_file})},children:"View"})})]},s)})):Object(A.jsx)(A.Fragment,{})})]})}),Object(A.jsx)(B.a,{show:this.state.showPdfModal,onHide:function(){return e.setState({showPdfModal:!1})},children:Object(A.jsx)(Q,{uri:this.state.pdfLink,fileType:"pdf"})})]})})}}]),s}(n.Component));var je=function(){var e=Object(o.g)().id;return Object(A.jsx)(de,{id:e})},ue=s(116),he=s(115),be=(s(107),function(e){Object(S.a)(s,e);var t=Object(w.a)(s);function s(e){var n;return Object(N.a)(this,s),(n=t.call(this,e)).addColumn=function(){if(n.state.timings.length<6){var e=n.state.timings;e.push({from:"09:00",to:"09:00"});var t=n.state.monday;t.push("");var s=n.state.tuesday;s.push("");var a=n.state.wednesday;a.push("");var c=n.state.thursday;c.push("");var r=n.state.friday;r.push("");var i=n.state.saturday;i.push(""),n.setState({timings:e,monday:t,tuesday:s,wednesday:a,thursday:c,friday:r,saturday:i})}},n.changeSubjectValue=function(e,t,s){switch(console.log(e,t,s),s){case 1:var a=n.state.monday;a[e]=t,n.setState({monday:a});break;case 2:var c=n.state.tuesday;c[e]=t,n.setState({tuesday:c});break;case 3:var r=n.state.wednesday;r[e]=t,n.setState({wednesday:r});break;case 4:var i=n.state.thursday;i[e]=t,n.setState({thursday:i});break;case 5:var o=n.state.friday;o[e]=t,n.setState({friday:o});break;case 6:var l=n.state.saturday;l[e]=t,n.setState({saturday:l})}},n.changeFromTiming=function(e,t){var s=n.state.timings;s[e].from=t,n.setState({timings:s})},n.changeToTiming=function(e,t){var s=n.state.timings;s[e].to=t,n.setState({timings:s})},n.uploadDaywiselecture=function(e){var t=[];switch(e){case 1:t=n.state.monday;break;case 2:t=n.state.tuesday;break;case 3:t=n.state.wednesday;break;case 4:t=n.state.thursday;break;case 5:t=n.state.friday;break;case 6:t=n.state.saturday}if(0===t.length)console.log("selected day is empty");else{for(var s=[],a=0;a<6;a++){var c=[];a<t.length&&(c.push(n.state.timings[a].from),c.push(n.state.timings[a].to),c.push(t[a])),s.push(c)}var r=new Headers;r.append("Authorization","Bearer "+_()),r.append("Content-Type","application/json");var i=JSON.stringify({semester:n.props.semester,day:e,lecture_one:s[0],lecture_two:s[1],lecture_three:s[2],lecture_four:s[3],lecture_five:s[4],lecture_six:s[5]});fetch(C.postSchedule,{method:"POST",headers:r,body:i,redirect:"follow"}).then((function(e){if(e.ok)return e.json();throw new Error("Something went wrong")})).then((function(t){return console.log(t,"success for day = ",e)})).catch((function(t){return console.log("error in day= ",e,t)}))}},n.scheduleformSubmit=function(){n.uploadDaywiselecture(1),n.uploadDaywiselecture(2),n.uploadDaywiselecture(3),n.uploadDaywiselecture(4),n.uploadDaywiselecture(5),n.uploadDaywiselecture(6)},n.state={monday:[],tuesday:[],wednesday:[],thursday:[],friday:[],saturday:[],timings:[]},n}return Object(y.a)(s,[{key:"render",value:function(){var e=this;return Object(A.jsxs)("div",{className:"timeTableFormContainer",children:[Object(A.jsx)("div",{className:"timeformtable",children:Object(A.jsxs)("div",{className:"timeformtableparent",children:[Object(A.jsxs)("table",{className:"table table-hover table-nowrap",children:[Object(A.jsx)("thead",{className:"thead-light",children:Object(A.jsxs)("tr",{children:[Object(A.jsx)("th",{scope:"col",className:"timeformtd",children:"Day"}),this.state.timings.map((function(t,s){return Object(A.jsxs)("th",{scope:"col",className:"timeformtd",children:[Object(A.jsx)("input",{type:"time",required:!0,value:t.from,onChange:function(t){console.log(t.target.value),e.changeFromTiming(s,t.target.value)}}),Object(A.jsx)("br",{})," to",Object(A.jsx)("br",{}),Object(A.jsx)("input",{type:"time",required:!0,value:t.to,onChange:function(t){console.log(t.target.value),e.changeToTiming(s,t.target.value)}})]},s)}))]})}),Object(A.jsxs)("tbody",{children:[Object(A.jsxs)("tr",{children:[Object(A.jsx)("td",{className:"timeformtd",children:Object(A.jsx)("span",{className:"font-semibold",children:"Monday"})}),this.state.monday.map((function(t,s){return Object(A.jsx)("td",{className:"InputParentSubject",children:Object(A.jsx)("input",{type:"text",value:t,onChange:function(t){return e.changeSubjectValue(s,t.target.value,1)},className:"form-control subjectInput",placeholder:"Enter Subject"})},s)}))]}),Object(A.jsxs)("tr",{children:[Object(A.jsx)("td",{className:"timeformtd",children:Object(A.jsx)("span",{className:"font-semibold",children:"Tuesday"})}),this.state.tuesday.map((function(t,s){return Object(A.jsx)("td",{className:"InputParentSubject",children:Object(A.jsx)("input",{type:"text",value:t,onChange:function(t){return e.changeSubjectValue(s,t.target.value,2)},className:"form-control subjectInput",placeholder:"Enter Subject"})},s)}))]}),Object(A.jsxs)("tr",{children:[Object(A.jsx)("td",{className:"timeformtd",children:Object(A.jsx)("span",{className:"font-semibold",children:"Wednesday"})}),this.state.wednesday.map((function(t,s){return Object(A.jsx)("td",{className:"InputParentSubject",children:Object(A.jsx)("input",{type:"text",value:t,onChange:function(t){return e.changeSubjectValue(s,t.target.value,3)},className:"form-control subjectInput",placeholder:"Enter Subject"})},s)}))]}),Object(A.jsxs)("tr",{children:[Object(A.jsx)("td",{className:"timeformtd",children:Object(A.jsx)("span",{className:"font-semibold",children:"Thursday"})}),this.state.thursday.map((function(t,s){return Object(A.jsx)("td",{className:"InputParentSubject",children:Object(A.jsx)("input",{type:"text",value:t,onChange:function(t){return e.changeSubjectValue(s,t.target.value,4)},className:"form-control subjectInput",placeholder:"Enter Subject"})},s)}))]}),Object(A.jsxs)("tr",{children:[Object(A.jsx)("td",{className:"timeformtd",children:Object(A.jsx)("span",{className:"font-semibold",children:"Friday"})}),this.state.friday.map((function(t,s){return Object(A.jsx)("td",{className:"InputParentSubject",children:Object(A.jsx)("input",{type:"text",value:t,onChange:function(t){return e.changeSubjectValue(s,t.target.value,5)},className:"form-control subjectInput",placeholder:"Enter Subject"})},s)}))]}),Object(A.jsxs)("tr",{children:[Object(A.jsx)("td",{className:"timeformtd",children:Object(A.jsx)("span",{className:"font-semibold",children:"Saturday"})}),this.state.saturday.map((function(t,s){return Object(A.jsx)("td",{className:"InputParentSubject",children:Object(A.jsx)("input",{type:"text",value:t,onChange:function(t){return e.changeSubjectValue(s,t.target.value,6)},className:"form-control subjectInput",placeholder:"Enter Subject"})},s)}))]})]})]}),Object(A.jsx)("div",{className:"tablesubmitbutton",children:Object(A.jsx)("button",{value:"Submit",className:"submit",onClick:function(){return e.scheduleformSubmit()},children:"Submit"})})]})}),Object(A.jsx)(ue.a,{placement:"left",delay:{show:250,hide:400},overlay:function(e){return Object(A.jsx)(he.a,Object(j.a)(Object(j.a)({id:"button-tooltip"},e),{},{children:"Add Column"}))},children:Object(A.jsx)("a",{href:"#",className:"columnplus",onClick:function(){return e.addColumn()},children:Object(A.jsx)(I.b,{size:"40px"})})})]})}}]),s}(n.Component)),me=(s(108),function(e){Object(S.a)(s,e);var t=Object(w.a)(s);function s(e){var n;return Object(N.a)(this,s),(n=t.call(this,e)).fetchSchedule=function(e){var t=new Headers;t.append("Authorization","Bearer "+_()),fetch(C.getSchedule+e,{method:"GET",headers:t,redirect:"follow"}).then((function(e){if(e.ok)return e.json();throw new Error("Something went wrong")})).then((function(t){console.log(t," schedule fetch success");var s=[],a=[],c=[],r=[],i=[],o=[],l=[];if(t.length>0){t[0].lecture_one.length>0&&s.push({to:t[0].lecture_one[1],from:t[0].lecture_one[0]}),t[0].lecture_two.length>0&&s.push({to:t[0].lecture_two[1],from:t[0].lecture_two[0]}),t[0].lecture_three.length>0&&s.push({to:t[0].lecture_three[1],from:t[0].lecture_three[0]}),t[0].lecture_four.length>0&&s.push({to:t[0].lecture_four[1],from:t[0].lecture_four[0]}),t[0].lecture_five.length>0&&s.push({to:t[0].lecture_five[1],from:t[0].lecture_five[0]}),t[0].lecture_six.length>0&&s.push({to:t[0].lecture_six[1],from:t[0].lecture_six[0]});for(var d=0;d<t.length;d++){var j=[];switch(t[d].lecture_one.length>0&&j.push(t[d].lecture_one[2]),t[d].lecture_two.length>0&&j.push(t[d].lecture_two[2]),t[d].lecture_three.length>0&&j.push(t[d].lecture_three[2]),t[d].lecture_four.length>0&&j.push(t[d].lecture_four[2]),t[d].lecture_five.length>0&&j.push(t[d].lecture_five[2]),t[d].lecture_six.length>0&&j.push(t[d].lecture_six[2]),t[d].day){case 1:a=j;break;case 2:c=j;break;case 3:r=j;break;case 4:i=j;break;case 5:o=j;break;case 6:l=j}}}n.setState({timings:s,monday:a,tuesday:c,wednesday:r,thursday:i,friday:o,saturday:l,semester:e})})).catch((function(e){return console.log("error in fetching schedule",e)}))},n.state={monday:[],tuesday:[],wednesday:[],thursday:[],friday:[],saturday:[],showModal:!1,semester:1,timings:[]},n}return Object(y.a)(s,[{key:"componentDidMount",value:function(){this.fetchSchedule(1)}},{key:"render",value:function(){var e=this;return Object(A.jsxs)("div",{className:"timetablecontainer",children:[Object(A.jsxs)("div",{className:"selectsemester",children:[this.props.isStaff?Object(A.jsx)(z.a,{className:"btn-sm",onClick:function(){return e.setState({showModal:!0})},children:"Create Time Table"}):Object(A.jsx)(A.Fragment,{}),Object(A.jsx)("div",{className:"form-group",children:Object(A.jsxs)("select",{className:"form-control",id:"exampleFormControlSelect1",defaultValue:"Assignment Topic",onChange:function(t){return e.fetchSchedule(t.target.value)},children:[Object(A.jsx)("option",{disabled:!0,value:"Assignment Topic",children:"Select Semester"}),Object(A.jsx)("option",{value:1,children:"1"}),Object(A.jsx)("option",{value:2,children:"2"}),Object(A.jsx)("option",{value:3,children:"3"}),Object(A.jsx)("option",{value:4,children:"4"}),Object(A.jsx)("option",{value:5,children:"5"}),Object(A.jsx)("option",{value:6,children:"6"}),Object(A.jsx)("option",{value:7,children:"7"}),Object(A.jsx)("option",{value:8,children:"8"})]})})]}),Object(A.jsx)("div",{className:"teachertableparent ",children:Object(A.jsxs)("table",{className:"table table-hover table-nowrap",children:[Object(A.jsx)("thead",{className:"thead-light",children:Object(A.jsxs)("tr",{children:[Object(A.jsx)("th",{scope:"col",className:"time",children:"Day"}),this.state.timings.map((function(e,t){return Object(A.jsxs)("th",{scope:"col",className:"time",children:[e.from,Object(A.jsx)("br",{})," to",Object(A.jsx)("br",{}),e.to]},t)}))]})}),Object(A.jsxs)("tbody",{children:[Object(A.jsxs)("tr",{children:[Object(A.jsx)("td",{className:"time",children:Object(A.jsx)("span",{className:"font-semibold",children:"Monday"})}),this.state.monday.map((function(e,t){return Object(A.jsx)("td",{className:"time",children:Object(A.jsx)("span",{className:"tableSubject",children:e})},t)}))]}),Object(A.jsxs)("tr",{children:[Object(A.jsx)("td",{className:"time",children:Object(A.jsx)("span",{className:"font-semibold",children:"Tuesday"})}),this.state.tuesday.map((function(e,t){return Object(A.jsx)("td",{className:"time",children:Object(A.jsx)("span",{className:"tableSubject",children:e})},t)}))]}),Object(A.jsxs)("tr",{children:[Object(A.jsx)("td",{className:"time",children:Object(A.jsx)("span",{className:"font-semibold",children:"Wednesday"})}),this.state.wednesday.map((function(e,t){return Object(A.jsx)("td",{className:"time",children:Object(A.jsx)("span",{className:"tableSubject",children:e})},t)}))]}),Object(A.jsxs)("tr",{children:[Object(A.jsx)("td",{className:"time",children:Object(A.jsx)("span",{className:"font-semibold",children:"Thursday"})}),this.state.thursday.map((function(e,t){return Object(A.jsx)("td",{className:"time",children:Object(A.jsx)("span",{className:"tableSubject",children:e})},t)}))]}),Object(A.jsxs)("tr",{children:[Object(A.jsx)("td",{className:"time",children:Object(A.jsx)("span",{className:"font-semibold",children:"Friday"})}),this.state.friday.map((function(e,t){return Object(A.jsx)("td",{className:"time",children:Object(A.jsx)("span",{className:"tableSubject",children:e})},t)}))]}),Object(A.jsxs)("tr",{children:[Object(A.jsx)("td",{className:"time",children:Object(A.jsx)("span",{className:"font-semibold",children:"Saturday"})}),this.state.saturday.map((function(e,t){return Object(A.jsx)("td",{className:"time",children:Object(A.jsx)("span",{className:"tableSubject",children:e})},t)}))]})]})]})}),this.props.isStaff?Object(A.jsx)(B.a,{dialogClassName:"modalcss",show:this.state.showModal,onHide:function(){return e.setState({showModal:!1})},children:Object(A.jsx)(be,{semester:this.state.semester})}):Object(A.jsx)(A.Fragment,{})]})}}]),s}(n.Component)),pe=Object(l.b)((function(e){return{profile:e.userReducer.profile,isStaff:e.userReducer.isStaff}}),null)(me);function fe(){var e=Object(o.f)();return Object(A.jsxs)(o.c,{children:[Object(A.jsx)(o.a,{exact:!0,path:["/","/login"],children:Object(A.jsx)(E,{history:e})}),Object(A.jsx)(o.a,{path:"/home",children:Object(A.jsx)(Oe,{history:e})}),Object(A.jsx)(o.a,{path:"*",children:Object(A.jsx)(F,{})})]})}function Oe(e){var t=e.history,s=Object(o.h)();return Object(A.jsxs)(A.Fragment,{children:[Object(A.jsx)(V,{history:t}),Object(A.jsxs)(o.c,{children:[Object(A.jsx)(o.a,{exact:!0,path:[s.path+"/",s.path+"/dashboard"],children:Object(A.jsx)(U,{history:t})}),Object(A.jsx)(o.a,{path:s.path+"/notice",children:Object(A.jsx)(se,{})}),Object(A.jsx)(o.a,{exact:!0,path:s.path+"/assignment",children:Object(A.jsx)(le,{})}),Object(A.jsx)(o.a,{path:s.path+"/assignment/:id",children:Object(A.jsx)(je,{})}),Object(A.jsx)(o.a,{path:s.path+"/timetable",children:Object(A.jsx)(pe,{})}),Object(A.jsx)(o.a,{path:"*",children:Object(A.jsx)(F,{})})]})]})}var xe=function(){return Object(A.jsx)("div",{className:"App",children:Object(A.jsx)(l.a,{store:v,children:Object(A.jsx)(i.a,{children:Object(A.jsx)(fe,{})})})})};r.a.render(Object(A.jsx)(a.a.StrictMode,{children:Object(A.jsx)(xe,{})}),document.getElementById("root"))},66:function(e,t){},77:function(e,t,s){},82:function(e,t,s){},84:function(e,t,s){},85:function(e,t,s){},87:function(e,t,s){},93:function(e,t){},94:function(e,t){},95:function(e,t){},96:function(e,t){},97:function(e,t){},98:function(e,t,s){},99:function(e,t,s){}},[[109,1,2]]]);
//# sourceMappingURL=main.6945ba5d.chunk.js.map